var about=$(".about span"),output=$("#howlong"),sun=$(".sun-selector"),cloudparts=$(".opencloud.cloud, .opencloud.cloud::after, .opencloud.cloud::before");$(function(){$(".cloudlayer .cloud").addClass("animate-cloudToLeft"),sun.click(geolocate),$(".opencloud.cloud").click(function(){$(".pane").addClass("full")}),$(".closecloud.cloud").click(function(){$(".pane").removeClass("full")})});var geolocate=function(){about.animate({color:"#ffffcc",opacity:"0"},400),$("body").css("cursor","wait"),navigator.geolocation?navigator.geolocation.getCurrentPosition(sunsetCalc):alert("Sorry! Geolocation is not supported by your browser. We will be adding zip code functionality soon.")},sunsetCalc=function(o){$("body").css("cursor","auto"),$("#sunner").animate({opacity:1}),output.hide();var t=o.coords.latitude,n=o.coords.longitude,s=new Date,e=SunCalc.getTimes(new Date,t,n),a=e.dusk,u=e.dawn,l=a-s,r=Math.floor(l/1e3),d=Math.floor(r/3600),c=Math.floor(r%3600/60),i=Math.floor(r%3600%60);if(console.log(e.dawn+": dawn, "+e.sunrise+": sunrise,"+e.solarNoon+": solar noon, "+e.dusk+": dusk, "+e.sunset+": sunset ,    "+e.sunriseEnd+" to "+e.goldenHourEnd+" is morning golden hour, "+e.goldenHour+" to "+e.sunsetStart+" is evening golden hour."),console.log("difference: "+l+"; sunset: "+a+" ; now: "+s+" ; sunrise: "+u),u>s){var l=u-s;r=Math.floor(l/1e3),d=Math.floor(r/3600),c=Math.floor(r%3600/60),i=Math.floor(r%3600%60),output.text("The sun is rising in "+d+" hours & "+c+" minutes."),$(".svg-container").addClass("moon"),$("html").addClass("moon"),$(".about span, #howlong").css("color","#DDD")}else 0>l?(console.log("diff < 0"),l=-1*l,r=Math.floor(l/1e3),d=Math.floor(r/3600),c=Math.floor(r%3600/60),i=Math.floor(r%3600%60),d>=1?output.text("Oh no! The sun set "+d+" hours, "+c+" minutes, and "+i+" seconds ago!"):output.text("Oh no! The sun set "+c+" minutes and "+i+" seconds ago!"),$(".svg-container").addClass("moon"),$("html").addClass("moon"),$(".about span, #howlong").css("color","#DDD")):2>=d&&d>=1?(output.text("Better hurry! You have "+d+" hours, "+c+" minutes, & "+i+" seconds of sunlight left!"),$(".svg-container").addClass("day")):1>d?(output.text("Better hurry! You have "+c+" minutes, & "+i+" seconds of sunlight left!"),$(".svg-container").addClass("day")):d>=2&&(output.text("You have "+d+" hours, "+c+" minutes, & "+i+" seconds of sunlight left!"),$(".svg-container").addClass("day"));$(".time").css("display","inline-block"),output.fadeIn(1200),about.empty()};