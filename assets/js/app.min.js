var about=$(".about span"),output=$("#howlong"),sun=$(".sun-selector"),cloudparts=$(".opencloud.cloud, .opencloud.cloud::after, .opencloud.cloud::before");$(function(){$(".cloudlayer .cloud").addClass("animate-cloudToLeft"),sun.click(geolocate),$(".opencloud.cloud").hover(function(){},function(){}),$(".opencloud.cloud").click(function(){console.log("clicked"),$(".pane").addClass("full")}),$(".closecloud.cloud").click(function(){$(".pane").removeClass("full")})});var geolocate=function(){about.animate({color:"#ffffcc",opacity:"0"},400);var o=new Date;$("body").css("cursor","wait"),$(".svg-container").addClass("grayed"),console.log("geolocate started: "+o),navigator.geolocation?(o=new Date,console.log("passing geo->calc: "+o),navigator.geolocation.getCurrentPosition(sunsetCalc),o=new Date,console.log("passed geo->calc: "+o)):alert("Sorry! Geolocation is not supported by this browser. We will be adding zip code functionality soon."),o=new Date,console.log("geolocate finished: "+o)},sunsetCalc=function(o){$("body").css("cursor","auto"),$("#sunner").animate({opacity:1}),output.hide();var e=new Date;console.log("sunsetCalc started: "+e);var t=o.coords.latitude,n=o.coords.longitude,s=new Date,a=SunCalc.getTimes(new Date,t,n),l=a.sunset,c=a.sunrise;e=new Date,console.log("times pulled: "+e);var u=l-s,d=Math.floor(u/1e3),i=Math.floor(d/3600),r=Math.floor(d%3600/60),g=Math.floor(d%3600%60);e=new Date,console.log("times converted: "+e),c>s?output.text("It isn't even sunrise yet!"):0>u?(u=s-l,d=Math.floor(u/1e3),i=Math.floor(d/3600),r=Math.floor(d%3600/60),g=Math.floor(d%3600%60),i>=1?output.text("Oh no! The sun set "+i+" hours, "+r+" minutes, and "+g+" seconds ago!"):output.text("Oh no! The sun set "+r+" minutes and "+g+" seconds ago!"),$(".svg-container").addClass("moon"),$("html").addClass("moon"),$(".about span, #howlong").css("color","#DDD")):2>=i&&i>=1?(output.text("Better hurry! You have "+i+" hours, "+r+" minutes, and "+g+" seconds of sunlight left!"),$(".svg-container").addClass("day")):1>i?(output.text("Better hurry! You have "+r+" minutes, and "+g+" seconds of sunlight left!"),$(".svg-container").addClass("day")):i>=2&&(output.text("You have "+i+" hours, "+r+" minutes, and "+g+" seconds of sunlight left!"),$(".svg-container").addClass("day")),$(".time").css("display","inline-block"),output.fadeIn(1200),about.empty(),$(".svg-container").removeClass("grayed"),e=new Date,console.log("sunsetCalc finished: "+e)};